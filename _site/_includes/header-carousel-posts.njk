<header id="layout-carousel" style="width: 100vw;"
  class="carousel d-none d-sm-flex justify-content-center align-items-center {% if carousel.slide !== false %}slide{%endif%}
  {% if carousel.fade %}carousel-fade{% endif %}"
  {% if carousel.interval %}data-interval="{{carousel.interval}}"{% endif %}
  {% if carousel.wrap == false %}data-wrap="false"{% endif %} 
  {% if carousel.ride !== false %}data-ride="carousel"{% endif %}
  {% if carousel.pause == false %}data-pause="false"{% endif %}>
  <div class="carousel-inner" style="max-height: {{(headerHeight) if headerHeight else '50vh'}};" >


    {% if carousel.indicators !== false %}
    <ol class="carousel-indicators">
      {% for item in carouselPosts %}
        <li data-target="#layout-carousel" {% if loop.first %}class="active"{% endif%} data-slide-to="{{loop.index0}}"></li>
      {% endfor %}
    </ol>
    {% endif %}

    {% for item in carouselPosts %}
    <div class="carousel-item {% if loop.first %}active{% endif%}" >
      <a href="{{item.url}}">
        <div class="d-block w-100" style="background-image: linear-gradient(  rgba(0, 0, 0, .7), transparent 30%, rgba(0, 0, 0, .9)), url({{ item.data.hero }}); height: 50vh; background-repeat: no-repeat; background-size: cover;   background-position: center;" alt="{{item.data.title}}"></div>
        <div class="carousel-caption">
          <div class="container">
          {% if item.data.title %}<h4 class="text-white">{{item.data.title}}</h4>{% endif %}
          {% if item.data.summary %}<p class="d-none d-md-block" style="font-size: .9em">{{item.data.summary}}</p>{% endif %}
          </div>
        </div>
      </a>
    </div>
    {% endfor %}

    {% if carousel.controls !== false %}
      <a class="carousel-control-prev" href="#layout-carousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true">
          <span class="sr-only">Previous</span>
        </span>
      </a>

      <a class="carousel-control-next" href="#layout-carousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true">
          <span class="sr-only">Previous</span>
        </span>
      </a>
    {% endif %}
  </div>
</header>